---
description: Git 커밋 메시지, 브랜치 네이밍, PR 템플릿 전략
globs:
  - "**/*"
alwaysApply: true
---

# Git 전략 규칙 (자가증식 시스템 기반)

## 1. 브랜치 네이밍  
- `main`: 배포 및 최종 콘텐츠 자동화 출발점  
- `dev`: 통합 테스트 및 실험 브랜치 (1인 개발 시 선택적으로 사용)  
- `feat/<scope>` – 기능 개발 (예: `feat/embedding`, `feat/ui-login`)  
- `fix/<scope>` – 버그 수정 (예: `fix/api-token`)  
- `docs/<scope>` – 문서 또는 회고용 브랜치 (예: `docs/devlog-week3`)  
- `refactor/<scope>` – 코드 구조 재정비 (예: `refactor/prompt-handler`)  

---

## 2. 커밋 메시지 형식 (`type(scope): 설명`)  
- **type** 은 `feat`, `fix`, `docs`, `refactor`, `chore`, `test` 중 하나  
- **scope** 는 모듈 또는 작업 단위 (예: `rag`, `api`, `devlog`)  
- 본문은 선택사항이며 요약은 8~72자 이내로 유지  
- 📌 예시:
  - `feat(rag): add vector sync 기능`
  - `fix(api): token header 누락 수정`
  - `docs(devlog): 회고 기록 초기 작성`

---

## 3. Pull Request 규칙

- PR 제목은 브랜치 네이밍을 반영하여 `feat/`, `fix/`, `docs/` 등의 접두어를 사용합니다.
- 본문은 아래와 같은 구조를 따릅니다:

```markdown
# 📌 Pull Request 개요

## ✅ 변경 요약
- (한 줄 요약 / 해당 작업 중요 점)

## 🔍 주요 변경 사항
- [x] 기능 구현
- [x] 예외 처리
- [x] 테스트 코드 작성

## 💡 구현 배경 및 상세 설명
- 모험 및 도적
- 기술적 고려 사항 및 개발 선택 이유

## 🙋 한편 계정 / TODO
- 더 가질 계획, 문서화 목록

## 🔗 관련 링크
- closes #이슈번호
- 해당 기능과 관련된 회의록, 관련 번역 문서 등
```

- `.github/PULL_REQUEST_TEMPLATE.md` 파일에도 같은 구조를 적용합니다.
- PR 내용은 자바와 DevLog의 파일 자료로 다양화 가능합니다.

---

## 4. DevLog 파일 저장 규칙

- 모든 DevLog, 회고, PR 요약 등은 `docs/devlog/` 디렉토리에 저장합니다.
- 파일 이름 형식은 다음과 같습니다:

```
docs/devlog/YYYY-MM-DD-{No.}-{slug}.md
```

예시:
```
docs/devlog/2025-08-04-01-rag-vector-sync.md
docs/devlog/2025-08-05-02-ui-refactor.md
```

- 파일 내용은 다음 구조를 따릅니다:

```markdown
# [DevLog] {제목 또는 커밋 요약}

## 📅 날짜
YYYY-MM-DD

## ✏️ 요약
- 주요 변경 요약 (1~3줄)

## 🔍 상세 내용
- 구현 설명, 설계 의도, 주요 목적

## 🙋 개선 및 회고
- 어떻게 갔고, 배우는 점, 약속 기능 등
```

- 이 Markdown은 복잡한 콘텐츠 생성의 개발 기자가 됩니다:
  - 블로그 게시
  - SNS 게시물 (Twitter/X, Threads, LinkedIn)
  - 카드뉴스, PDF 보고서 자동 생성
  - RAG용 벡터DB 임베딩

> DevLog는 Git 작업과 콘텐츠 생산 사이의 허브 역할을 합니다.

---


## 5. Cursor AI 지시문

```text
- 브랜치 명명, 커밋 메시지, PR 작성은 본 전략에 따라야 합니다.
- PR이 병합되면, 자동으로 docs/devlog/에 DevLog Markdown 파일을 생성해야 합니다.
- 이 파일을 바탕으로 블로그 글, SNS 게시물, 벡터DB 임베딩을 자동화합니다.
- 이 규칙은 Cursor 내 요약, DevLog 생성, 문서 편집 흐름에 항상 반영됩니다.
```

> 이 지시문은 `.cursor/rules/git-strategy.mdc`에 존재할 경우, Cursor 내 AI가 컨텍스트를 이해하고 동작합니다.
